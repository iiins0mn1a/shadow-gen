Shadow以太坊测试网Perf分析结果
=====================================

运行时间：37.57秒
- User time: 132.25秒
- System time: 237.18秒  ⚠️ 系统态时间占主导！
- CPU利用率: (132.25 + 237.18) / 37.57 = 9.83核 (16核并行，利用率61%)

关键性能指标：
1. IPC (Instructions Per Cycle): 0.79
   - 较低，说明CPU效率不高
   - 理想值应该>1.5

2. Cache Miss率: 17.03%
   - 偏高，说明内存访问模式不够友好
   - 理想值<5%

3. Branch Miss率: 6.77%
   - 正常范围（<10%）

4. L1 D-cache Miss: 0.17%
   - 很低，L1缓存命中率良好

5. System time占比: 237.18 / 369.43 = 64.2%  🔥 关键瓶颈！
   - 大部分时间花在内核态
   - 说明syscall开销仍然很高

核心瓶颈分析：
=====================================

问题1：System time过高 (64%)
- 即使clock_gettime通过共享内存优化，其他syscall仍有开销
- 需要分析还有哪些高频syscall

问题2：CPU利用率不足 (61% vs 理论100%)
- 可能原因：锁竞争、syscall阻塞

问题3：IPC偏低 (0.79)
- 可能原因：频繁的上下文切换、内存延迟

下一步分析：
1. 用perf top实时查看热点函数
2. 用perf record采样调用栈（如果WSL支持）
3. 对比不同配置的system time占比




